# vim: set ft=ruby:

search do
  prune_dirs /\A(\.svn|\.git|CVS|tmp|tags|coverage|pkg|doc|\.yardoc)\z/
  skip_files /(\A\.|\.sw[pon]\z|\.(log|fnm|jpg|jpeg|png|pdf|svg)\z|tags|~\z)/i
end

discover do
  prune_dirs /\A(\.svn|\.git|CVS|tmp|tags|coverage|pkg|doc|\.yardoc)\z/
  skip_files /(\A\.|\.sw[pon]\z|\.log\z|~\z)/
end

strip_spaces do
  prune_dirs /\A(\..*|CVS|pkg|doc|\.yardoc)\z/
  skip_files /(\A\.|\.sw[pon]\z|\.log\z|~\z)/
end

probe do
  test_framework :rspec
  #include_dirs 'features'
end

ssh_tunnel do
  terminal_multiplexer :tmux
end

code_indexer do
  verbose false

  gems = %w[
    base64
    bigdecimal
    date
    erb
    json
    mize
    monetize
    more_math
    ostruct
    psych
    search_ui
    stringio
    sync
    term-ansicolor
    test-unit
    tins
  ]

  paths {
    %w[ lib ] + gems.map { `bundle show #{it}` }.map(&:chomp)
  }
end
